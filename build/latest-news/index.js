(()=>{"use strict";const e=window.wp.blocks,t=window.wp.data,s=window.wp.blockEditor,r=window.wp.components,n=window.wp.element,l=window.ReactJSXRuntime;(0,e.registerBlockType)("create-block/latest-news",{title:"Latest News Block",category:"seedx_blocks",icon:"list-view",attributes:{titleColor:{type:"string",default:"#000000"},numPosts:{type:"number",default:5},featuredPostId:{type:"number"}},edit:({attributes:e,setAttributes:o})=>{const{titleColor:i,numPosts:a,featuredPostId:d}=e,c=(0,t.useSelect)((e=>e("core").getEntityRecords("postType","post",{per_page:a})),[a]),u=(0,s.useBlockProps)(),w=c?.find((e=>e.id===d))||c?.[0],p=c?.filter((e=>e.id!==w?.id))||[];return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(s.InspectorControls,{children:(0,l.jsxs)(r.PanelBody,{title:"Settings",children:[(0,l.jsx)(r.RangeControl,{label:"Number of Posts",value:a,onChange:e=>o({numPosts:e}),min:1,max:10}),(0,l.jsx)(r.TextControl,{label:"Featured Post ID",value:d||"",type:"number",onChange:e=>o({featuredPostId:parseInt(e)||null})}),(0,l.jsx)(r.ColorPalette,{label:"Title Color",value:i,onChange:e=>o({titleColor:e})})]})}),(0,l.jsxs)("div",{...u,className:"latest-news-block container ",children:[(0,l.jsx)("h3",{style:{color:i},children:"Latest News"}),c?(0,l.jsxs)("div",{className:"news-layout",children:[w&&(0,l.jsxs)("div",{className:"featured-news",children:[(0,l.jsx)("h2",{children:w.title.rendered}),(0,l.jsx)("p",{dangerouslySetInnerHTML:{__html:w.excerpt.rendered}}),(0,l.jsx)("a",{href:w.link,target:"_blank",rel:"noopener noreferrer",children:"Read more"})]}),(0,l.jsx)("div",{className:"other-news",children:p.map((e=>(0,l.jsxs)("div",{className:"news-item",children:[(0,l.jsx)("h4",{children:e.title.rendered}),(0,l.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:"Read more"})]},e.id)))})]}):(0,l.jsx)(r.Spinner,{})]})]})},save:()=>null})})();